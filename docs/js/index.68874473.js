(function(t){function e(e){for(var a,o,s=e[0],p=e[1],c=e[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in p)Object.prototype.hasOwnProperty.call(p,a)&&(t[a]=p[a]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var p=n[s];0!==r[p]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={index:0,test:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],p=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=p;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},1771:function(t,e,n){var a={"./ippan_men2/ico_ippan_men2.png":"bb7d","./ippan_men2/ippan_men2.2048/texture_00.png":"a865","./ippan_men2/model":"f7e7","./ippan_men2/model.json":"f7e7","./logo.png":"cf05"};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="1771"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",[t._v("フレカフェ福笑い")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.active_avatar,expression:"active_avatar"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.active_avatar=e.target.multiple?n:n[0]}}},t._l(t.avatars,(function(e){return n("option",{key:e.key,domProps:{value:e.key}},[t._v(t._s(e.name))])})),0),n("button",{on:{click:t.start}},[t._v("スタート")]),n("Fukuwarai",{ref:"game",attrs:{msg:"Message"}}),t._m(0)],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"help"},[n("h1",[t._v("遊び方")]),n("p",[t._v("左の枠に出てきたパーツを右の丸に動かして顔を完成させよう")]),n("p",[t._v("各パーツはマウスホイールで回転できるぞ")]),n("p",[t._v("右の丸に一度動かしたパーツは消えてしまう！")]),n("p",[t._v("どこにおいたか記憶を頼りにイケメンを精製してくれよな")]),n("p",[t._v("もういいかなと思ったら慣性ボタンを押そう。これが君の似顔絵だ！")]),n("p",[t._v("スクショ取ってインスタンスにアップロードしてね")]),n("p",[t._v("小さいパーツは動かしにくいけど頑張ってね！神は細部に宿るのだ")])])}],o=n("6a4a"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"game",style:"width: "+t.width+"px; height: "+t.height+"px"},[n("div",{staticStyle:{position:"absolute",margin:"0",padding:"0"}},t._l(t.parts,(function(e,a){return n("div",{key:"parts_"+a,staticClass:"parts",style:"\n    position: absolute;\n    background-image: url("+e.src+");\n    overflow: hidden;\n    object-fit: none;\n    background-position: -"+e.rect[0]*e.scale+"px -"+e.rect[1]*e.scale+"px;\n    background-size: "+e.size[0]*e.scale+"px "+e.size[1]*e.scale+"px;\n    width: "+e.rect[2]*e.scale+"px;\n    height: "+e.rect[3]*e.scale+"px;\n    left: "+(t.width-e.r*e.scale)*e.position[0]+"px;\n    top: "+(t.height-e.r*e.scale)*e.position[1]+"px;\n    z-index: "+e.index+";\n    transform-origin: 50% 50%;\n    transform: rotate("+e.index+"deg);\n  ",on:{mousedown:t.down,mouseup:t.up,mousemove:t.move,wheel:t.wheel}})})),0)]),n("div",{ref:"target",staticClass:"game",style:"\n    width: "+t.height+"px;\n    height: "+t.height+"px;\n    border-radius: 50% 50%;\n  "}),n("div",[n("button",{on:{click:t.complete}},[t._v("完成")])])])},p=[],c=(n("a9e3"),n("7db0"),n("d81d"),n("99af"),n("a630"),n("3ca3"),n("ac1f"),n("5319"),[{key:"ippan_men2",data:n("f7e7")}]),u={name:"Fukuwarai",props:{width:{type:Number,default:480},height:{type:Number,default:640}},data:function(){return{parts:[],drag:void 0,x:0,y:0,mx:0,my:0,index:0,active:!1}},methods:{start:function(t){var e=c.find((function(e){return e.key==t})).data;this.parts=e.parts.map((function(a){return{src:n("1771")("./".concat(t,"/").concat(e.texture)),rect:a,r:1.2*Math.sqrt(a[2]*a[2]+a[3]*a[3]),size:[2048,2048],index:parseInt(8*Math.floor(128*Math.random())),position:[Math.random(),Math.random()],scale:e.scale}})),this.drag=void 0,this.index=0,this.active=!0,Array.from(document.querySelectorAll(".parts")).map((function(t){t.style.display="block"}))},up:function(){if(this.active){var t=this.drag.getBoundingClientRect(),e=(t.left+t.right)/2+window.pageXOffset,n=(t.top+t.bottom)/2+window.pageYOffset,a=this.$refs.target.getBoundingClientRect(),r=(a.left+a.right)/2+window.pageXOffset,i=(a.top+a.bottom)/2+window.pageYOffset,o=a.width*a.width/4,s=Math.pow(r-e,2)+Math.pow(i-n,2);s<o&&(this.drag.style.display="none",this.drag.style["z-index"]=this.index,this.index++),this.drag=void 0}},down:function(t){this.active&&(this.drag=t.target,this.x=parseInt(t.target.style.left),this.y=parseInt(t.target.style.top),this.mx=t.pageX,this.my=t.pageY)},move:function(t){this.active&&this.drag&&(this.drag.style.left=this.x+(t.pageX-this.mx)+"px",this.drag.style.top=this.y+(t.pageY-this.my)+"px")},wheel:function(t){if(this.active){var e=t.target;e.style.transform="rotate(".concat(parseInt(e.style.transform.replace(/[^0-9]/g,""))+8*Math.round(t.deltaY/Math.abs(t.deltaY)),"deg)")}},complete:function(){this.active=!1,Array.from(document.querySelectorAll(".parts")).map((function(t){t.style.display="none"==t.style.display?"block":"none"}))}}},l=u,d=(n("aaf3"),n("2877")),f=Object(d["a"])(l,s,p,!1,null,"3d0a5390",null),h=f.exports,g={name:"App",components:{Fukuwarai:h},data:function(){return{avatars:o,active_avatar:o[0].key}},methods:{start:function(){this.$refs.game.start(this.active_avatar)}}},v=g,m=(n("034f"),Object(d["a"])(v,r,i,!1,null,null,null)),y=m.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(y)}}).$mount("#app")},"6a4a":function(t){t.exports=JSON.parse('[{"key":"ippan_men2","name":"男性店員2"}]')},"85ec":function(t,e,n){},a865:function(t,e,n){t.exports=n.p+"img/texture_00.1234ce52.png"},aaf3:function(t,e,n){"use strict";n("e59e")},bb7d:function(t,e,n){t.exports=n.p+"img/ico_ippan_men2.0d7a8367.png"},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},e59e:function(t,e,n){},f7e7:function(t){t.exports=JSON.parse('{"texture":"ippan_men2.2048/texture_00.png","target":"ico_ippan_men2.png","scale":0.33,"parts":[[40,36,573,866],[672,33,600,600],[1328,32,391,452],[1776,42,58,134],[1890,41,68,123],[1903,223,39,45],[713,683,87,197],[825,684,109,287],[983,688,409,331],[1410,552,224,339],[1723,551,153,48],[1741,664,98,67],[47,1000,377,445],[528,965,95,136],[527,1123,101,127],[495,1272,90,90],[494,1426,90,90],[653,966,151,391],[40,1496,382,164],[40,1740,380,167],[647,1356,155,390],[940,1035,407,333],[1460,958,183,295],[1736,960,137,58],[1416,1303,154,90],[922,1384,175,301],[1567,1311,98,206],[905,1694,201,91],[905,1795,155,68],[1223,1442,84,54],[1460,1443,85,59],[1208,1507,226,123],[1561,1570,143,87],[907,1690,202,83],[902,1784,164,82],[1242,1700,141,105],[1544,1674,150,84],[1468,1765,137,102]]}')}});
//# sourceMappingURL=index.68874473.js.map